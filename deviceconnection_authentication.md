# Security Authentication Mechanism

To ensure the security of the devices and data transmission, the device needs to be authenticated before connecting to the EnOS IoT Hub. EnOS supports _Secret-based Authentication_ and _Certificate-based Two-way Authentication_.

## Secret-based Authentication

Before discussing the secret-based one-way authentication mechanism, you need to understand the following concepts:

- **Product credentials**: `ProductKey` and `ProductSecret`.
  - `ProductKey`: Globally unique identifier issued by EnOS for the product.
  - `ProductSecret`: The product secret issued by EnOS, which is paired with `ProductKey`. It's commonly used for dynamic activation of devices. To initiate the dynamic activation, a device first carries `ProductKey`, `ProductSecret` and `DeviceKey` upon its first connection to the EnOS Cloud, to get `DeviceSecret` from the cloud for device activation.
- **Device credentials**: `DeviceKey` and `DeviceSecret`.
  - `DeviceKey`: The device identifier that is customized or automatically generated by the system when a device is being registered, it is unique across the OU.
  - `DeviceSecret`: The device secret issued by EnOS, which is paired with `DeviceKey`.
- **Device triple**: Contains three elements, i.e. `ProductKey`, `DeviceKey` and `DeviceSecret` mainly used for secret-based authentication.

EnOS enforces the secret-based authentication mechanism by default. For more information, please refer to [Secret-based Authentication](secretbased_authentication).

## Certificate-based Two-way Authentication

The secret-based authentication involves conducting device identifier authentication using the device trigraph. It is a one-way authentication mechanism, that is, the IoT Hub verifies whether the device is trustworthy, but the device does not verify whether the IoT Hub receiving the data on the opposite end is trustworthy. If you want to enable two-way authentication, the certificate-based authentication mechanism shall be used.

Before discussing the certificate-based two-way authentication mechanism, you need to understand the following concepts:
- Certificate Authority (CA): A digital certificate issuer that is capable of issuing CA certificates.
- CA Certificate: A digital certificate whose holder can sign other certificates. It conforms to the certificate format defined by the [IETF RFC 5280](https://tools.ietf.org/html/rfc5280) standard.
- Device Certificate: A secret pair is generated based on the device information, a certificate request file CSR is generated based on the secret pair, and the device CSR is sent to the CA. The certificate signed and issued by CA certificate is the device certificate. The CA certificate registers the device certificate with CA while signing and issuing it. Meanwhile, the device certificate is also stored on the device side.

EnOS provides CA certificate service, for more information, please see:[X.509 Certificate Service in EnOS](https://docs.envisioniot.com/docs/enos/en/latest/security/x509_ca/index.html#)ã€‚

If you enable certificate-based two-way authentication, we recommend the following best practices:
  - It is recommended to provide each device with a unique certificate for fine management, such as certificate revocation.
  - The device must support rotation and replacement of the certificate to ensure smooth operation of the certificate when it expires.

For more information on the certificate-based two-way authentication, please refer to [Certificate-based Two-way Authentication](certificatebased_authentication).
